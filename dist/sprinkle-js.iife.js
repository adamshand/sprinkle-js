var SprinkleJS=function(y){"use strict";const E=t=>typeof t=="string"?document.querySelector(t):t,C=(t,e,n=[])=>{Object.entries(e).forEach(([l,o])=>{if(typeof o=="object"){C(t,o,[...n,l]);return}let c=t;if(n.forEach(i=>{c=c[i]}),n[n.length-1]==="style"&&l.startsWith("--")){c.setProperty(l,o);return}if(l==="className"&&t instanceof SVGElement){c.setAttribute("class",o.toString());return}if(n.length===0&&l.startsWith("data-")){t.setAttribute(l,o);return}c[l]=o})},M=(t,e)=>[...Array(t).keys()].map(()=>Array(e).fill(0)),I=(t=[],e=[],n=(s,l)=>s===l)=>{var i,a,b,d,u,f;const s=M(t.length+1,e.length+1);for(let r=0;r<t.length+1;r+=1)s[r][0]=r;for(let r=0;r<e.length+1;r+=1)s[0][r]=r;for(let r=0;r<t.length;r+=1)for(let w=0;w<e.length;w+=1)if(n(t[r],e[w]))s[r+1][w+1]=s[r][w];else{const $=Math.min(s[r+1][w],s[r][w+1])+1;s[r+1][w+1]=$}const l=[];let o=t.length,c=e.length;for(;o>0&&c>0;)n(t[o-1],e[c-1])?(l.unshift({type:"=",value:t[o-1],skip:!1}),c-=1,o-=1):s[o-1][c]<s[o][c-1]?(l.unshift({type:"-",value:t[o-1],skip:!1}),o-=1):(l.unshift({type:"+",value:e[c-1],skip:!1}),c-=1);return o>0?l.unshift(...((b=(a=(i=t==null?void 0:t.slice)==null?void 0:i.call(t,0,o))==null?void 0:a.map)==null?void 0:b.call(a,r=>({type:"-",value:r,skip:!1})))||[]):c>0&&l.unshift(...((f=(u=(d=e==null?void 0:e.slice)==null?void 0:d.call(e,0,c))==null?void 0:u.map)==null?void 0:f.call(u,r=>({type:"+",value:r,skip:!1})))||[]),l},S=(t,e,n=0)=>t.find((s,l,...o)=>l>n&&e(s,l,...o)),R=t=>Object.prototype.toString.call(t).slice(8,-1),V=t=>{const e=document.createElement("template");return Object.assign(e,{innerHTML:t}),e.content},P=(t,e)=>t.getAttribute(e),g=t=>t instanceof Element?P(t,"key"):t.textContent;let h=[];const v=Symbol("is-reactive");let k=null;const A=t=>{[...t].forEach(e=>{if(!e.toRun)return;const n=e.execute();n&&(e.cleanup=n)})},N=t=>{k=new Set;try{t()}finally{const e=new Set(k);k=null,A(e)}},j=(t,e,n)=>{let s=n.get(t);s||(s=new Set,n.set(t,s)),s.add(e),e.dependencies.add(s)},O=(t,e)=>{const n=t.get(e);if(!!n){if(k!==null){n.forEach(s=>k.add(s));return}A(n)}},m=(t,e)=>{if(t[v])return t;if(typeof t!="object")throw new Error("It's not possible to create a variable from a primitive value...you can use createRef");Object.keys(t||{}).forEach(o=>{const c=o;!!t[c]&&typeof t[c]=="object"&&(R(t[c])==="Object"||Array.isArray(t[c]))&&(t[c]=m(t[c],e==null?void 0:e[c]))});const s=new Map;return new Proxy(t,{get:(...o)=>{if(o[1]===v)return!0;const c=h[h.length-1];return c&&j(o[1],c,s),Reflect.get(...o)},set:(o,c,i)=>{var r;const a=c,b=(r=e==null?void 0:e[a])!=null?r:Object.is;let d=i;!!i&&typeof i=="object"&&(R(i)==="Object"||Array.isArray(i))&&!i[v]&&(d=m(i,b));const u=b(o[a],i),f=Reflect.set(o,c,d);return u||O(s,c),f}})},J=(t,e,n=":root")=>{const s=m(t,e);let l=E(n);return l||(console.warn("Impossible to find the right html element, attaching the variables to the root."),l=document.querySelector(":root")),p(()=>{Object.keys(s).forEach(c=>{var i;l.style.setProperty(`--${c}`,(i=s[c])==null?void 0:i.toString())})}),s},_=(t,e)=>{const n={value:t()};let s=!1;const l=new Map,o=new Proxy(n,{get:(...c)=>{const i=h[h.length-1];return i&&j(c[1],i,l),Reflect.get(...c)},set:(c,i,a)=>{if(!s)return!0;const b=i,u=(e!=null?e:Object.is)(c[b],a),f=Reflect.set(c,i,a);return u||O(l,i),f}});return p(()=>{s=!0,o.value=t(),s=!1}),o},H=(t,e,n,s=window.localStorage)=>{if(typeof e!="object")throw new Error("It's not possible to create a variable from a primitive value...you can use createRef");const l=new Map;let o=null;try{const i=s.getItem(t);i?o=JSON.parse(i):s.setItem(t,JSON.stringify(e))}catch{throw new Error("The specified key is associated with a non Object-like element")}const c=new Proxy(o!=null?o:e,{get:(...i)=>{const a=h[h.length-1];return a&&j(i[1],a,l),Reflect.get(...i)},set:(i,a,b)=>{var w;const d=a,f=((w=n==null?void 0:n[d])!=null?w:Object.is)(i[d],b),r=Reflect.set(i,a,b);return s.setItem(t,JSON.stringify(i)),f||O(l,a),r}});return window.addEventListener("storage",i=>{if(i.storageArea===s&&i.key===t)try{if(i.newValue){const a=JSON.parse(i.newValue);Object.keys(a).forEach(d=>{c[d]=a[d]})}}catch{console.warn("The storage was modified but the resulting object is not parsable...the variable was not updated.")}}),c},U=(t,e)=>m({value:t},e?{value:e}:void 0),T=t=>{t.owned.forEach(e=>{e.toRun=!1,T(e)}),t.dependencies.forEach(e=>{e.delete(t)}),t.dependencies.clear()},p=t=>{const e=()=>{var o,c,i;if(!n.toRun)return;(i=(c=(o=n==null?void 0:n.owner)==null?void 0:o.owned)==null?void 0:c.push)==null||i.call(c,n),n.cleanup&&typeof n.cleanup=="function"&&n.cleanup(),T(n),h.push(n);let l;try{l=t()}finally{h.pop()}return l},n={execute:e,dependencies:new Set,owned:[],owner:h[h.length-1],toRun:!0},s=e();s&&(n.cleanup=s)},W=t=>{const e=h;h=[];const n=t();return h=e,n},x=(t,e)=>{const n=E(t);return p(()=>{n&&(n.textContent=e(n))}),n},F=(t,e)=>{const n=E(t);return p(()=>{n&&(n.innerHTML=e(n))}),n},B=(t,e,n)=>{const s=E(t);return p(()=>{s&&(n(s)?s.classList.add(e):s.classList.remove(e))}),s},D=(t,e)=>{const n=E(t);return p(()=>{if(n){const s=e(n);Object.keys(s||{}).forEach(o=>{s[o]?n.classList.add(o):n.classList.remove(o)})}}),n},G=(t,e)=>{const n=E(t);return p(()=>{n&&(n.value=e(n))}),n},L=(t,e)=>{const n=E(t);return p(()=>C(n,e(n))),n},Q=(t,e)=>{const n=E(t);if(!!n)return L(n,()=>({style:e(n)})),n},Y=(t,e,n)=>{const s=E(t);return p(()=>{if(s===null)return;const l=e(s),o=V(l).childNodes,c=new Map,i=(u,f=!0)=>{const r=g(u);r!=null&&c.set(r,{element:u,isNew:f})};if(s.children.length===0){const u=Array.from(o);s.append(...u),u.forEach(f=>i(f)),typeof n=="function"&&p(()=>{n(s,c)});return}const a=I(Array.from(s.childNodes),Array.from(o),(u,f)=>g(u)!=null&&g(f)!=null?g(u)===g(f):u===f);let b=a.find(u=>u.type==="="),d=0;a.forEach(u=>{if(u.type==="+"){const f=S(a,r=>r.type==="-"&&g(r.value)===g(u.value),d);if(f&&(u.value=f.value,f.skip=!0),!b){s.append(u.value),i(u.value),d+=1;return}b.value.before(u.value),i(u.value)}else if(u.type==="-"){if(u.skip){d+=1;return}s.removeChild(u.value);const f=S(a,r=>r.type==="+"&&g(r.value)===g(u.value),d);f&&(f.value=u.value)}else b=S(a,f=>f.type==="=",d),i(u.value,!1);d+=1}),typeof n=="function"&&p(()=>{n(s,c)})}),s};return y.batch=N,y.bindChildrens=Y,y.bindClass=B,y.bindClasses=D,y.bindDom=L,y.bindInnerHTML=F,y.bindInputValue=G,y.bindStyle=Q,y.bindTextContent=x,y.createComputed=_,y.createCssVariable=J,y.createEffect=p,y.createRef=U,y.createStored=H,y.createVariable=m,y.untrack=W,Object.defineProperties(y,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),y}({});
