var SprinkleJS=function(d){"use strict";const w=e=>typeof e=="string"?document.querySelector(e):e,C=(e,t,n=[])=>{const s=Object.entries(t);for(let[f,i]of s){if(typeof i=="object"){C(e,i,[...n,f]);return}let o=e;for(const c of n)o=o[c];n[n.length-1]==="style"&&o.setProperty(f,i),o[f]=i}},I=(e,t)=>[...Array(e).keys()].map(()=>Array(t).fill(0)),L=(e=[],t=[],n=(s,f)=>s===f)=>{var c,a,y,b,r,u;const s=I(e.length+1,t.length+1);for(let l=0;l<e.length+1;l++)s[l][0]=l;for(let l=0;l<t.length+1;l++)s[0][l]=l;for(let l=0;l<e.length;l++)for(let m=0;m<t.length;m++)if(n(e[l],t[m]))s[l+1][m+1]=s[l][m];else{const $=Math.min(s[l+1][m],s[l][m+1])+1;s[l+1][m+1]=$}const f=[];let i=e.length,o=t.length;for(;i>0&&o>0;)n(e[i-1],t[o-1])?(f.unshift({type:"=",value:e[i-1],skip:!1}),o--,i--):s[i-1][o]<s[i][o-1]?(f.unshift({type:"-",value:e[i-1],skip:!1}),i--):(f.unshift({type:"+",value:t[o-1],skip:!1}),o--);return i>0?f.unshift(...((y=(a=(c=e==null?void 0:e.slice)==null?void 0:c.call(e,0,i))==null?void 0:a.map)==null?void 0:y.call(a,l=>({type:"-",value:l,skip:!1})))||[]):o>0&&f.unshift(...((u=(r=(b=t==null?void 0:t.slice)==null?void 0:b.call(t,0,o))==null?void 0:r.map)==null?void 0:u.call(r,l=>({type:"+",value:l,skip:!1})))||[]),f},S=(e,t,n=0)=>e.find((s,f,...i)=>f>n&&t(s,f,...i)),R=e=>Object.prototype.toString.call(e).slice(8,-1),V=e=>{const t=document.createElement("template");return Object.assign(t,{innerHTML:e}),t.content},P=(e,t)=>e.getAttribute(t),g=e=>e instanceof Element?P(e,"key"):e.textContent;let p=[];const k=Symbol("is-reactive");let v=null;const N=e=>{v=new Set;try{e()}finally{const t=new Set(v);v=null,A(t)}},j=(e,t,n)=>{let s=n.get(e);s||(s=new Set,n.set(e,s)),s.add(t),t.dependencies.add(s)},A=e=>{[...e].forEach(t=>{if(!t.toRun)return;const n=t.execute();n&&(t.cleanup=n)})},O=(e,t)=>{const n=e.get(t);if(!!n){if(v!==null){n.forEach(s=>v.add(s));return}A(n)}},E=(e,t)=>{if(e[k])return e;if(typeof e!="object")throw new Error("It's not possible to create a variable from a primitive value...you can use createRef");const n=Object.keys(e||{});for(let i of n){const o=i;!!e[o]&&typeof e[o]=="object"&&(R(e[o])==="Object"||Array.isArray(e[o]))&&(e[o]=E(e[o],t==null?void 0:t[o]))}const s=new Map;return new Proxy(e,{get:(...i)=>{if(i[1]===k)return!0;const o=p[p.length-1];return o&&j(i[1],o,s),Reflect.get(...i)},set:(i,o,c)=>{var l;const a=o,y=(l=t==null?void 0:t[a])!=null?l:Object.is;let b=c;!!c&&typeof c=="object"&&(R(c)==="Object"||Array.isArray(c))&&!c[k]&&(b=E(c,y));const r=y(i[a],c),u=Reflect.set(i,o,b);return r||O(s,o),u}})},J=(e,t,n=":root")=>{const s=E(e,t);let f=w(n);return f||(console.warn("Impossible to find the right html element, attaching the variables to the root."),f=document.querySelector(":root")),h(()=>{Object.keys(s).forEach(o=>{var c;f.style.setProperty(`--${o}`,(c=s[o])==null?void 0:c.toString())})}),s},_=(e,t)=>{const n={value:e()};let s=!1;const f=new Map,i=new Proxy(n,{get:(...o)=>{const c=p[p.length-1];return c&&j(o[1],c,f),Reflect.get(...o)},set:(o,c,a)=>{if(!s)return!0;const y=c,r=(t!=null?t:Object.is)(o[y],a),u=Reflect.set(o,c,a);return r||O(f,c),u}});return h(()=>{s=!0,i.value=e(),s=!1}),i},H=(e,t,n,s=window.localStorage)=>{if(typeof t!="object")throw new Error("It's not possible to create a variable from a primitive value...you can use createRef");const f=new Map;let i=null;try{const c=s.getItem(e);c?i=JSON.parse(c):s.setItem(e,JSON.stringify(t))}catch{throw new Error("The specified key is associated with a non Object-like element")}const o=new Proxy(i!=null?i:t,{get:(...c)=>{const a=p[p.length-1];return a&&j(c[1],a,f),Reflect.get(...c)},set:(c,a,y)=>{var m;const b=a,u=((m=n==null?void 0:n[b])!=null?m:Object.is)(c[b],y),l=Reflect.set(c,a,y);return s.setItem(e,JSON.stringify(c)),u||O(f,a),l}});return window.addEventListener("storage",c=>{if(c.storageArea===s&&c.key===e)try{if(c.newValue){const a=JSON.parse(c.newValue);for(let y in a)o[y]=a[y]}}catch{console.warn("The storage was modified but the resulting object is not parsable...the variable was not updated.")}}),o},U=(e,t)=>E({value:e},t?{value:t}:void 0),T=e=>{e.owned.forEach(t=>{t.toRun=!1,T(t)});for(const t of e.dependencies)t.delete(e);e.dependencies.clear()},h=e=>{const t=()=>{var i,o,c;if(!n.toRun)return;(c=(o=(i=n==null?void 0:n.owner)==null?void 0:i.owned)==null?void 0:o.push)==null||c.call(o,n),n.cleanup&&typeof n.cleanup=="function"&&n.cleanup(),T(n),p.push(n);let f;try{f=e()}finally{p.pop()}return f},n={execute:t,dependencies:new Set,owned:[],owner:p[p.length-1],toRun:!0},s=t();s&&(n.cleanup=s)},x=e=>{const t=p;p=[];const n=e();return p=t,n},F=(e,t)=>{const n=w(e);return h(()=>{n&&(n.textContent=t(n))}),n},B=(e,t)=>{const n=w(e);return h(()=>{n&&(n.innerHTML=t(n))}),n},D=(e,t,n)=>{const s=w(e);return h(()=>{s&&(n(s)?s.classList.add(t):s.classList.remove(t))}),s},K=(e,t)=>{const n=w(e);return h(()=>{if(n){const s=t(n),f=Object.keys(s||{});for(let i of f)s[i]?n.classList.add(i):n.classList.remove(i)}}),n},Q=(e,t)=>{const n=w(e);return h(()=>{n&&(n.value=t(n))}),n},M=(e,t)=>{const n=w(e);return h(()=>C(n,t(n))),n},W=(e,t)=>{const n=w(e);if(!!n)return M(n,()=>({style:t(n)})),n},Y=(e,t,n)=>{const s=w(e);return h(()=>{if(s===null)return;const f=t(s),i=V(f).childNodes,o=new Map,c=(r,u=!0)=>{const l=g(r);(l!==null||l!=null)&&o.set(l,{element:r,isNew:u})};if(s.children.length===0){const r=Array.from(i);s.append(...r),r.forEach(u=>c(u)),typeof n=="function"&&h(()=>{n(s,o)});return}const a=L(Array.from(s.childNodes),Array.from(i),(r,u)=>g(r)!=null&&g(u)!=null?g(r)===g(u):r===u);let y=a.find(r=>r.type==="="),b=0;for(let r of a){if(r.type==="+"){const u=S(a,l=>l.type==="-"&&g(l.value)===g(r.value),b);if(u&&(r.value=u.value,u.skip=!0),!y){s.append(r.value),c(r.value),b++;continue}y.value.before(r.value),c(r.value)}else if(r.type==="-"){if(r.skip){b++;continue}s.removeChild(r.value);const u=S(a,l=>l.type==="+"&&g(l.value)===g(r.value),b);u&&(u.value=r.value)}else y=S(a,u=>u.type==="=",b),c(r.value,!1);b++}typeof n=="function"&&h(()=>{n(s,o)})}),s};return d.batch=N,d.bindChildrens=Y,d.bindClass=D,d.bindClasses=K,d.bindDom=M,d.bindInnerHTML=B,d.bindInputValue=Q,d.bindStyle=W,d.bindTextContent=F,d.createComputed=_,d.createCssVariable=J,d.createEffect=h,d.createRef=U,d.createStored=H,d.createVariable=E,d.untrack=x,Object.defineProperties(d,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),d}({});
